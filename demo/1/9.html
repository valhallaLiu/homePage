<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>全选反选少选全选复选框</title>
	</head>
	<body>
		<dl id="content">
			<dt>
				<input type="checkbox" id="title"/>
				<label for="title">全选框</label>
			</dt>
			<dd>
				<input type="checkbox" id="box1"/>
				<label for="box1">选项1</label>
			</dd>
			<dd>
				<input type="checkbox" id="box2"/>
				<label for="box2">选项2</label>
			</dd>
			<dd>
				<input type="checkbox" id="box3"/>
				<label for="box3">选项3</label>
			</dd>
			<dd>
				<input type="checkbox" id="box4"/>
				<label for="box4">选项4</label>
			</dd>
			<dd>
				<input type="checkbox" id="box5"/>
				<label for="box5">选项5</label>
			</dd>
			<dd>
				<input type="checkbox" id="box6"/>
				<label for="box6">选项6</label>
			</dd>
			<dd>
				<input type="checkbox" id="box7"/>
				<label for="box7">选项7</label>
			</dd>
			<dd>
				<input type="checkbox" id="box8"/>
				<label for="box8">选项8</label>
			</dd>
			<dd>
				<input type="checkbox" id="box9"/>
				<label for="box9">选项9</label>
			</dd>
		</dl>
	</body>
	<script type="text/javascript">
		window.onload = function(){
			(function(){
				var oTitle = document.getElementById("title"),
					oContent = document.getElementById("content"),
					aBox = document.getElementsByTagName("input"),
					arr = [];
				for(var i=1;i<aBox.length;i++){
					arr.push(aBox[i]);
				}
				//全选事件绑定
				oTitle.onclick = function(){						
					if(isAllChecked(arr)){
						checkAll(arr,false);
					}else{
						checkAll(arr,true);
					}
				}
				//事件代理
				oContent.onclick = function(e){
					if(isAllChecked(arr)){
						oTitle.checked = true;
					}else{
						oTitle.checked = false;
					}
				}
				/*for(var j=0;j<arr.length;j++){
					arr[j].onclick = function(){
						if(isAllChecked(arr)){
							oTitle.checked = true;
						}else{
							oTitle.checked = false;
						}
					}
				}*/
				//全选或全不选
				function checkAll(arr,boolean){
					for(var i=0;i<arr.length;i++){
						arr[i].checked = boolean;
					}
				}
				//判断是否已经全部选中
				function isAllChecked(arr){
					var n = 0;
					for(var i=0;i<arr.length;i++){
						if(arr[i].checked){
							n++;
						}
					}
					if(n == arr.length){
						return true;
					}else{
						return false;
					}
				}
			})();
		}
	</script>
</html>
